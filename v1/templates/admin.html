{% extends "layout.html" %}
{% block content %}
  <h1>Panel de Administración</h1>
  <section class="admin-grid">
    <div class="panel">
      <h2>Agregar producto</h2>
      <form action="/upload_item" method="post" enctype="multipart/form-data" class="form-add">
        <label>Nombre <input name="name" required></label>
        <label>Descripcion <textarea name="description"></textarea></label>
        <label>Metodo de despacho <input name="method"></label>
        <label>Cantidades por caja <input name="quantities_per_box"></label>
        <label>UID Item (opcional) <input name="uid_item"></label>
        <label>Imagen <input type="file" name="image" accept="image/*"></label>
        <button type="submit">Agregar</button>
      </form>
    </div>

    <div class="panel">
      <h2>Sugerencias recibidas</h2>
      {% if suggestions %}
      <table class="table">
        <thead><tr><th>UID Item</th><th>Quien sugiere</th><th>Nombre sugerido</th></tr></thead>
        <tbody>
        {% for s in suggestions %}
          <tr>
            <td>{{ s["UID Item"] }}</td>
            <td>{{ s["Nombre de Quien sugiere"] }}</td>
            <td>{{ s["Nombre Sugerido"] }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      {% else %}
        <p>No hay sugerencias.</p>
      {% endif %}
    </div>
  </section>
  <section>
    <h2>Items ({{ items|length }})</h2>
    <ul class="mini-list">
    {% for it in items %}
      <li>{{ it.Nombre }} — <small>{{ it.UID_Item }}</small></li>
    {% endfor %}
    </ul>
  </section>
